"use strict";!function(){var s=[],o=document.getElementById("paginationContainer");QF.pGet("../php/getGoods.php",{}).then(function(t){if(t.error)throw new Error("请求失败");s=t.msg,new Pagination(o,t.msg,0,20).display(function(t){console.log(t);var o=' <ul  style="width:100%" class="row wrap-column list-group list-group-horizontal-sm">';return t.forEach(function(t){o+='\n                        <li class="col col-3 list-group-item " style="padding: 0 10px; border: none; margin-bottom:20px;">\n                        <div class="card" >\n                            <img src="'+t.goods_small_logo+'" class="card-img-top" alt="...">\n                            <div class="card-body">\n                                <p class="card-text"><a target="_blank" href="./detail.html?id='+t.goods_id+'" class="text-a">'+t.goods_name+'</a></p>\n                                <p class="d-flex justify-content-between align-items-center card-text"><span class="price">￥'+t.goods_price+' </span><button type="button" data-id="'+t.goods_id+'" class="btn">加入购物车</button></p>\n                            </div>\n                        </div>\n                    </li>\n                    '}),o+="</ul>"})}).catch(function(t){console.log(t)}),o.onclick=function(t){if("button"===t.target.tagName.toLowerCase()){var o=t.target.getAttribute("data-id");console.log("当前点的是按钮，商品id是"+o);var n=s.find(function(t){return t.goods_id===o}),a=localStorage.getItem("shoppingCart")||"[]",i=JSON.parse(a),e=i.find(function(t){return t.goods_id===o});e?e.count++:(n.count=1,i.push(n)),localStorage.setItem("shoppingCart",JSON.stringify(i)),location.href="./shoppingCart.html"}}}();